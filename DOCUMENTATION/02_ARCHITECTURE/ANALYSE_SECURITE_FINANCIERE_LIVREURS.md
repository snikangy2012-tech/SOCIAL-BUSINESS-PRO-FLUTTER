# ğŸ”’ ANALYSE SÃ‰CURITÃ‰ FINANCIÃˆRE - GESTION DES LIVREURS
## Social Business Pro - DÃ©cembre 2025

---

## ğŸ“‹ CONTEXTE & PROBLÃ‰MATIQUE

### ğŸ¯ Objectif de la rÃ¨gle actuelle (â‰¥ 50k FCFA â†’ Vendeur livre)

**Raisonnement** :
```
Si commande â‰¥ 50 000 FCFA
â†’ Somme trop importante pour confier Ã  un livreur
â†’ Risque de fuite/vol Ã©levÃ©
â†’ SOLUTION : Le vendeur livre lui-mÃªme (plus fiable)
```

### âš ï¸ Risques identifiÃ©s avec les livreurs

**ScÃ©nario problÃ©matique** :
```
Livreur accepte commande de 150 000 FCFA
    â†“
Client paie en CASH Ã  la livraison
    â†“
Livreur a 150k FCFA en poche
    â†“
RISQUES :
âŒ Livreur disparaÃ®t avec l'argent
âŒ Livreur prÃ©tend avoir Ã©tÃ© volÃ©
âŒ Livreur reporte le paiement indÃ©finiment
âŒ Livreur dÃ©pense l'argent avant de reverser
```

### ğŸ’° Enjeux financiers

**Pour la plateforme** :
- Perte sÃ¨che si livreur disparaÃ®t
- RÃ©putation endommagÃ©e
- Vendeur et acheteur mÃ©contents
- CoÃ»ts juridiques de recouvrement

**Pour le vendeur** :
- Ne reÃ§oit pas son paiement
- Perte du produit + revenu
- Doit gÃ©rer le SAV client

**Pour l'acheteur** :
- A payÃ© mais pas reÃ§u
- Ou reÃ§u mais vendeur rÃ©clame paiement
- Confiance brisÃ©e

---

## ğŸŒ COMMENT LES AUTRES PLATEFORMES GÃˆRENT CE RISQUE ?

### 1. **Jumia CÃ´te d'Ivoire**

**Approche** : Paiement en ligne obligatoire pour montants Ã©levÃ©s

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Montant < 50k FCFA                                  â”‚
â”‚ â†’ Cash Ã  la livraison autorisÃ©                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Montant â‰¥ 50k FCFA                                  â”‚
â”‚ â†’ OBLIGATOIRE : Paiement en ligne (CB, Mobile Money)â”‚
â”‚ â†’ Livreur ne manipule PAS l'argent                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Avantages** :
- âœ… ZÃ©ro risque de fuite du livreur
- âœ… Paiement sÃ©curisÃ© et tracÃ©
- âœ… Livreur se concentre sur la livraison

**InconvÃ©nients** :
- âŒ Limite les clients sans compte bancaire/mobile money
- âŒ Frais de transaction (2-3%)

---

### 2. **Glovo / Uber Eats**

**Approche** : Caution + assurance + limite journaliÃ¨re

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SYSTÃˆME DE CAUTION                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Livreur dÃ©pose caution : 50 000 FCFA               â”‚
â”‚ â†’ BloquÃ©e pendant toute la durÃ©e du contrat        â”‚
â”‚ â†’ RemboursÃ©e aprÃ¨s 30 jours sans incident          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LIMITE JOURNALIÃˆRE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Max 200k FCFA de cash/jour par livreur             â”‚
â”‚ â†’ Au-delÃ , doit reverser Ã  un point de collecte    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ASSURANCE OBLIGATOIRE                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Livreur assurÃ© pour pertes/vols                    â”‚
â”‚ â†’ Plateforme couverte jusqu'Ã  500k FCFA           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Avantages** :
- âœ… Livreur a "skin in the game" (caution)
- âœ… Limite les montants Ã  risque
- âœ… Assurance couvre les cas exceptionnels

---

### 3. **Yango Delivery (Russie/CI)**

**Approche** : Compte livreur avec solde + clearing automatique

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WALLET LIVREUR                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Chaque paiement cash â†’ EnregistrÃ© dans wallet      â”‚
â”‚ Solde livreur mis Ã  jour en temps rÃ©el             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CLEARING AUTOMATIQUE                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Si solde > 100k FCFA                               â”‚
â”‚ â†’ BLOCAGE : Doit reverser avant nouvelle livraison â”‚
â”‚                                                      â”‚
â”‚ Si solde > 50k FCFA pendant 24h                    â”‚
â”‚ â†’ ALERTE : SMS/notification rappel                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PÃ‰NALITÃ‰S                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Retard de reversement > 48h                        â”‚
â”‚ â†’ Suspension du compte                             â”‚
â”‚ â†’ PÃ©nalitÃ© 5% du montant                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Avantages** :
- âœ… Tracking en temps rÃ©el des montants
- âœ… Pression automatique pour reverser
- âœ… DÃ©tection prÃ©coce des anomalies

---

### 4. **WhatsApp Business (Informel ivoirien)**

**Approche** : Confiance + systÃ¨me de parrainage

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PARRAINAGE OBLIGATOIRE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Nouveau livreur doit Ãªtre parrainÃ©                 â”‚
â”‚ â†’ Parrain (ancien livreur) est garant              â”‚
â”‚ â†’ Si problÃ¨me, parrain paie                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PROGRESSION                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Niveau 1 (0-20 livraisons) : Max 30k FCFA/commandeâ”‚
â”‚ Niveau 2 (21-50) : Max 60k FCFA/commande          â”‚
â”‚ Niveau 3 (51+) : Max 150k FCFA/commande           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Avantages** :
- âœ… TrÃ¨s adaptÃ© Ã  la culture ivoirienne
- âœ… Responsabilisation par les pairs
- âœ… Confiance progressive

---

## ğŸ¯ PROPOSITIONS POUR SOCIAL BUSINESS PRO

---

## ğŸ’¡ PROPOSITION #1 : SystÃ¨me de paliers de confiance progressifs

### ğŸ¯ Concept

Le montant maximal qu'un livreur peut gÃ©rer dÃ©pend de son **niveau de confiance** (historique, performances, caution).

### ğŸ“Š Grille de paliers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU 1 : DÃ‰BUTANT (0-10 livraisons)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Caution requise : 0 FCFA                                         â”‚
â”‚ Montant max/commande : 30 000 FCFA                              â”‚
â”‚ Total max non reversÃ© : 50 000 FCFA                             â”‚
â”‚ DÃ©lai de reversement : 24h                                       â”‚
â”‚                                                                   â”‚
â”‚ Si commande > 30k FCFA â†’ Auto-assignÃ©e au vendeur               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU 2 : CONFIRMÃ‰ (11-50 livraisons + note â‰¥ 4.0/5)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Caution requise : 20 000 FCFA                                   â”‚
â”‚ Montant max/commande : 75 000 FCFA                              â”‚
â”‚ Total max non reversÃ© : 150 000 FCFA                            â”‚
â”‚ DÃ©lai de reversement : 48h                                       â”‚
â”‚                                                                   â”‚
â”‚ Si commande > 75k FCFA â†’ Auto-assignÃ©e au vendeur               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU 3 : EXPERT (51-150 livraisons + note â‰¥ 4.3/5)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Caution requise : 50 000 FCFA                                   â”‚
â”‚ Montant max/commande : 150 000 FCFA                             â”‚
â”‚ Total max non reversÃ© : 300 000 FCFA                            â”‚
â”‚ DÃ©lai de reversement : 72h                                       â”‚
â”‚                                                                   â”‚
â”‚ Si commande > 150k FCFA â†’ Auto-assignÃ©e au vendeur              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU 4 : VIP (151+ livraisons + note â‰¥ 4.5/5 + caution 100k) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Caution requise : 100 000 FCFA                                  â”‚
â”‚ Montant max/commande : 300 000 FCFA                             â”‚
â”‚ Total max non reversÃ© : 500 000 FCFA                            â”‚
â”‚ DÃ©lai de reversement : 7 jours                                   â”‚
â”‚                                                                   â”‚
â”‚ Avantages :                                                       â”‚
â”‚ âœ… Badge "Livreur VIP CertifiÃ©"                                 â”‚
â”‚ âœ… PrioritÃ© sur les grosses commandes                           â”‚
â”‚ âœ… Bonus mensuel de performance                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ› ï¸ ImplÃ©mentation

**1. ModÃ¨le livreur**

```dart
// lib/models/livreur_trust_level.dart
enum LivreurTrustLevel {
  debutant,   // 0-10 livraisons
  confirme,   // 11-50 livraisons + note â‰¥ 4.0
  expert,     // 51-150 livraisons + note â‰¥ 4.3
  vip,        // 151+ livraisons + note â‰¥ 4.5 + caution 100k
}

class LivreurTrustConfig {
  final LivreurTrustLevel level;
  final double cautionRequired;      // Caution Ã  dÃ©poser
  final double maxOrderAmount;       // Montant max par commande
  final double maxUnpaidBalance;     // Total max non reversÃ©
  final int reversementDelayHours;   // DÃ©lai de reversement

  static LivreurTrustConfig getConfig(
    int completedDeliveries,
    double averageRating,
    double cautionDeposited,
  ) {
    // Niveau VIP
    if (completedDeliveries >= 151 &&
        averageRating >= 4.5 &&
        cautionDeposited >= 100000) {
      return LivreurTrustConfig(
        level: LivreurTrustLevel.vip,
        cautionRequired: 100000,
        maxOrderAmount: 300000,
        maxUnpaidBalance: 500000,
        reversementDelayHours: 168, // 7 jours
      );
    }

    // Niveau Expert
    if (completedDeliveries >= 51 && averageRating >= 4.3) {
      return LivreurTrustConfig(
        level: LivreurTrustLevel.expert,
        cautionRequired: 50000,
        maxOrderAmount: 150000,
        maxUnpaidBalance: 300000,
        reversementDelayHours: 72,
      );
    }

    // Niveau ConfirmÃ©
    if (completedDeliveries >= 11 && averageRating >= 4.0) {
      return LivreurTrustConfig(
        level: LivreurTrustLevel.confirme,
        cautionRequired: 20000,
        maxOrderAmount: 75000,
        maxUnpaidBalance: 150000,
        reversementDelayHours: 48,
      );
    }

    // Niveau DÃ©butant (par dÃ©faut)
    return LivreurTrustConfig(
      level: LivreurTrustLevel.debutant,
      cautionRequired: 0,
      maxOrderAmount: 30000,
      maxUnpaidBalance: 50000,
      reversementDelayHours: 24,
    );
  }
}
```

**2. VÃ©rification avant assignation**

```dart
// Dans delivery_service.dart - Fonction d'assignation
Future<bool> canLivreurAcceptOrder(
  String livreurId,
  double orderAmount,
) async {
  // RÃ©cupÃ©rer le profil livreur
  final livreur = await _getUserProfile(livreurId);

  // Calculer le niveau de confiance
  final trustConfig = LivreurTrustConfig.getConfig(
    livreur.completedDeliveries,
    livreur.averageRating,
    livreur.cautionDeposited,
  );

  // VÃ©rifier si le montant est dans la limite
  if (orderAmount > trustConfig.maxOrderAmount) {
    debugPrint('âŒ Commande ${orderAmount} FCFA > limite ${trustConfig.maxOrderAmount} FCFA');
    return false;
  }

  // VÃ©rifier le solde non reversÃ© actuel
  final currentUnpaidBalance = await _getUnpaidBalance(livreurId);

  if (currentUnpaidBalance + orderAmount > trustConfig.maxUnpaidBalance) {
    debugPrint('âŒ Solde non reversÃ© ${currentUnpaidBalance + orderAmount} FCFA > limite ${trustConfig.maxUnpaidBalance} FCFA');
    return false;
  }

  debugPrint('âœ… Livreur peut accepter (niveau: ${trustConfig.level.name})');
  return true;
}
```

**3. Filtrage des commandes disponibles**

```dart
// Dans available_orders_screen.dart (livreur)
Stream<List<OrderModel>> getAvailableOrdersForLivreur(String livreurId) async* {
  final livreur = await _getUserProfile(livreurId);
  final trustConfig = LivreurTrustConfig.getConfig(
    livreur.completedDeliveries,
    livreur.averageRating,
    livreur.cautionDeposited,
  );

  yield* FirebaseFirestore.instance
      .collection('orders')
      .where('status', isEqualTo: 'ready')
      .where('totalAmount', isLessThanOrEqualTo: trustConfig.maxOrderAmount)
      .snapshots()
      .map((snapshot) {
        return snapshot.docs
            .map((doc) => OrderModel.fromFirestore(doc))
            .toList();
      });
}
```

**4. Badge et affichage niveau**

```dart
// Widget de niveau de confiance
class LivreurTrustBadge extends StatelessWidget {
  final LivreurTrustLevel level;

  @override
  Widget build(BuildContext context) {
    final config = _getBadgeConfig(level);

    return Container(
      padding: EdgeInsets.symmetric(horizontal: 12, vertical: 6),
      decoration: BoxDecoration(
        color: config.color,
        borderRadius: BorderRadius.circular(20),
        border: Border.all(color: config.borderColor, width: 2),
      ),
      child: Row(
        mainAxisSize: MainAxisSize.min,
        children: [
          Icon(config.icon, color: Colors.white, size: 16),
          SizedBox(width: 4),
          Text(
            config.label,
            style: TextStyle(
              color: Colors.white,
              fontWeight: FontWeight.bold,
              fontSize: 12,
            ),
          ),
        ],
      ),
    );
  }

  _BadgeConfig _getBadgeConfig(LivreurTrustLevel level) {
    switch (level) {
      case LivreurTrustLevel.vip:
        return _BadgeConfig(
          label: 'ğŸŒŸ VIP',
          icon: Icons.star,
          color: Colors.purple,
          borderColor: Colors.amber,
        );
      case LivreurTrustLevel.expert:
        return _BadgeConfig(
          label: 'âš¡ Expert',
          icon: Icons.verified,
          color: Colors.blue,
          borderColor: Colors.lightBlue,
        );
      case LivreurTrustLevel.confirme:
        return _BadgeConfig(
          label: 'âœ“ ConfirmÃ©',
          icon: Icons.check_circle,
          color: Colors.green,
          borderColor: Colors.lightGreen,
        );
      case LivreurTrustLevel.debutant:
        return _BadgeConfig(
          label: 'DÃ©butant',
          icon: Icons.person,
          color: Colors.grey,
          borderColor: Colors.grey.shade400,
        );
    }
  }
}
```

### âœ… Avantages

- âœ… **SÃ©curitÃ© progressive** : Limite les risques pour nouveaux livreurs
- âœ… **Motivation** : Gamification avec niveaux Ã  dÃ©bloquer
- âœ… **Confiance gagnÃ©e** : Livreurs expÃ©rimentÃ©s rÃ©compensÃ©s
- âœ… **FlexibilitÃ©** : Chaque livreur selon son niveau

---

## ğŸ’¡ PROPOSITION #2 : Wallet livreur avec alertes automatiques

### ğŸ¯ Concept

Chaque livreur a un **wallet virtuel** qui suit en temps rÃ©el l'argent collectÃ© et les reversements dus.

### ğŸ’³ Fonctionnement

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WALLET LIVREUR                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Solde actuel : 85 000 FCFA                                      â”‚
â”‚ Limite (niveau ConfirmÃ©) : 150 000 FCFA                         â”‚
â”‚ Marge restante : 65 000 FCFA                                    â”‚
â”‚                                                                   â”‚
â”‚ â° Plus ancien paiement non reversÃ© : il y a 18h                â”‚
â”‚ âš ï¸ DÃ©lai max : 48h                                              â”‚
â”‚ â³ Temps restant : 30h                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HISTORIQUE (7 derniers jours)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 12 dÃ©c 14:30  | Livraison #1234 | +25 000 FCFA | Solde: 25k   â”‚
â”‚ 12 dÃ©c 16:15  | Livraison #1235 | +35 000 FCFA | Solde: 60k   â”‚
â”‚ 12 dÃ©c 17:00  | Livraison #1236 | +25 000 FCFA | Solde: 85k   â”‚
â”‚ 12 dÃ©c 18:00  | â° RAPPEL : Reverser avant demain 14h30        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸš¨ SystÃ¨me d'alertes

**Alerte Niveau 1 : 50% de la limite atteinte**
```
Notification :
"ğŸ’° Vous avez collectÃ© 75k FCFA (50% de votre limite).
Pensez Ã  reverser bientÃ´t pour continuer vos livraisons."
```

**Alerte Niveau 2 : 80% de la limite atteinte**
```
SMS + Notification :
"âš ï¸ ATTENTION : Vous avez 120k FCFA non reversÃ©s (80% de limite).
Reversez avant d'atteindre 150k pour Ã©viter un blocage."
```

**Alerte Niveau 3 : 100% de la limite atteinte**
```
SMS + Notification + Blocage app :
"ğŸš« COMPTE BLOQUÃ‰
Vous avez atteint votre limite de 150k FCFA.
Reversez maintenant pour dÃ©bloquer votre compte."

â†’ Livreur NE PEUT PLUS accepter de nouvelles livraisons
â†’ Ã‰cran de reversement forcÃ©
```

**Alerte Niveau 4 : DÃ©lai dÃ©passÃ©**
```
48h aprÃ¨s la premiÃ¨re collecte sans reversement :
"â° DÃ‰LAI DÃ‰PASSÃ‰
Vous devez reverser 85k FCFA immÃ©diatement.
PÃ©nalitÃ© : 5% (4 250 FCFA) si non reversÃ© sous 6h.

Points de collecte disponibles :
ğŸ“ Cocody AngrÃ© - Orange Money
ğŸ“ Yopougon Siporex - MTN Money
ğŸ“ Plateau CCI - Agence SBP
"
```

### ğŸ› ï¸ ImplÃ©mentation

**1. ModÃ¨le Wallet**

```dart
// lib/models/livreur_wallet.dart
class LivreurWallet {
  final String livreurId;
  final double currentBalance;      // Solde actuel non reversÃ©
  final double maxBalance;          // Limite selon niveau
  final DateTime? oldestUnpaidDate; // Date du plus ancien paiement non reversÃ©
  final List<WalletTransaction> transactions;

  double get availableMargin => max(0, maxBalance - currentBalance);

  double get balancePercentage => (currentBalance / maxBalance) * 100;

  Duration? get timeSinceOldestUnpaid {
    if (oldestUnpaidDate == null) return null;
    return DateTime.now().difference(oldestUnpaidDate!);
  }

  bool get isBlocked => currentBalance >= maxBalance;

  bool get isNearLimit => balancePercentage >= 80;

  bool get hasOverduePayments {
    if (timeSinceOldestUnpaid == null) return false;
    // VÃ©rifier selon le niveau (24h, 48h, 72h, etc.)
    return timeSinceOldestUnpaid!.inHours >= reversementDelayHours;
  }
}

class WalletTransaction {
  final String id;
  final String type; // 'collection' ou 'reversement'
  final double amount;
  final String orderId;
  final DateTime timestamp;
  final bool isReversed;
}
```

**2. Service de gestion**

```dart
// lib/services/livreur_wallet_service.dart
class LivreurWalletService {

  /// Ajouter un paiement collectÃ©
  static Future<void> addCollection({
    required String livreurId,
    required String orderId,
    required double amount,
  }) async {
    final walletRef = FirebaseFirestore.instance
        .collection('livreur_wallets')
        .doc(livreurId);

    await walletRef.set({
      'currentBalance': FieldValue.increment(amount),
      'transactions': FieldValue.arrayUnion([
        {
          'id': Uuid().v4(),
          'type': 'collection',
          'amount': amount,
          'orderId': orderId,
          'timestamp': FieldValue.serverTimestamp(),
          'isReversed': false,
        }
      ]),
      'updatedAt': FieldValue.serverTimestamp(),
    }, SetOptions(merge: true));

    // VÃ©rifier les alertes
    await _checkAndSendAlerts(livreurId);
  }

  /// Enregistrer un reversement
  static Future<void> addReversement({
    required String livreurId,
    required double amount,
    required String method, // 'orange_money', 'mtn_momo', 'cash_deposit'
    String? proofPhoto,
  }) async {
    final walletRef = FirebaseFirestore.instance
        .collection('livreur_wallets')
        .doc(livreurId);

    await walletRef.update({
      'currentBalance': FieldValue.increment(-amount),
      'transactions': FieldValue.arrayUnion([
        {
          'id': Uuid().v4(),
          'type': 'reversement',
          'amount': amount,
          'method': method,
          'proofPhoto': proofPhoto,
          'timestamp': FieldValue.serverTimestamp(),
        }
      ]),
      'lastReversementAt': FieldValue.serverTimestamp(),
      'updatedAt': FieldValue.serverTimestamp(),
    });

    debugPrint('âœ… Reversement enregistrÃ©: $amount FCFA');
  }

  /// VÃ©rifier et envoyer alertes
  static Future<void> _checkAndSendAlerts(String livreurId) async {
    final wallet = await getWallet(livreurId);
    final trustConfig = await _getTrustConfig(livreurId);

    // Alerte 50%
    if (wallet.balancePercentage >= 50 && wallet.balancePercentage < 80) {
      await _sendAlert(livreurId, AlertLevel.info, wallet);
    }

    // Alerte 80%
    if (wallet.balancePercentage >= 80 && wallet.balancePercentage < 100) {
      await _sendAlert(livreurId, AlertLevel.warning, wallet);
    }

    // Blocage 100%
    if (wallet.isBlocked) {
      await _sendAlert(livreurId, AlertLevel.critical, wallet);
      await _blockLivreurAccount(livreurId);
    }

    // DÃ©lai dÃ©passÃ©
    if (wallet.hasOverduePayments) {
      await _sendAlert(livreurId, AlertLevel.overdue, wallet);
    }
  }

  static Future<void> _sendAlert(
    String livreurId,
    AlertLevel level,
    LivreurWallet wallet,
  ) async {
    String title, body;

    switch (level) {
      case AlertLevel.info:
        title = 'ğŸ’° Pensez Ã  reverser bientÃ´t';
        body = 'Vous avez collectÃ© ${wallet.currentBalance.toStringAsFixed(0)} FCFA '
               '(${wallet.balancePercentage.toStringAsFixed(0)}% de votre limite).';
        break;

      case AlertLevel.warning:
        title = 'âš ï¸ ATTENTION : Proche de la limite';
        body = 'Vous avez ${wallet.currentBalance.toStringAsFixed(0)} FCFA non reversÃ©s. '
               'Reversez avant d\'atteindre ${wallet.maxBalance.toStringAsFixed(0)} FCFA.';
        break;

      case AlertLevel.critical:
        title = 'ğŸš« COMPTE BLOQUÃ‰';
        body = 'Limite atteinte (${wallet.maxBalance.toStringAsFixed(0)} FCFA). '
               'Reversez maintenant pour dÃ©bloquer votre compte.';
        break;

      case AlertLevel.overdue:
        title = 'â° DÃ‰LAI DÃ‰PASSÃ‰';
        body = 'Vous devez reverser ${wallet.currentBalance.toStringAsFixed(0)} FCFA immÃ©diatement. '
               'PÃ©nalitÃ© de 5% si non reversÃ© sous 6h.';
        break;
    }

    // Notification push
    await NotificationService.send(
      userId: livreurId,
      title: title,
      body: body,
      data: {'type': 'wallet_alert', 'level': level.name},
    );

    // SMS si critique
    if (level == AlertLevel.critical || level == AlertLevel.overdue) {
      await SMSService.send(
        userId: livreurId,
        message: '$title\n$body',
      );
    }
  }
}
```

**3. Ã‰cran Wallet**

```dart
// lib/screens/livreur/wallet_screen.dart
class LivreurWalletScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return StreamBuilder<LivreurWallet>(
      stream: LivreurWalletService.watchWallet(currentUserId),
      builder: (context, snapshot) {
        if (!snapshot.hasData) return CircularProgressIndicator();

        final wallet = snapshot.data!;

        return Scaffold(
          appBar: AppBar(title: Text('Mon Porte-monnaie')),
          body: Column(
            children: [
              // Carte de solde
              _buildBalanceCard(wallet),

              // Alertes
              if (wallet.isNearLimit || wallet.hasOverduePayments)
                _buildAlertBanner(wallet),

              // Bouton reverser
              if (wallet.currentBalance > 0)
                _buildReversementButton(wallet),

              // Historique
              Expanded(
                child: _buildTransactionHistory(wallet.transactions),
              ),
            ],
          ),
        );
      },
    );
  }

  Widget _buildBalanceCard(LivreurWallet wallet) {
    return Card(
      margin: EdgeInsets.all(16),
      color: wallet.isBlocked ? Colors.red.shade100 : Colors.blue.shade50,
      child: Padding(
        padding: EdgeInsets.all(20),
        child: Column(
          children: [
            Text('Solde actuel', style: TextStyle(fontSize: 14)),
            SizedBox(height: 8),
            Text(
              '${wallet.currentBalance.toStringAsFixed(0)} FCFA',
              style: TextStyle(
                fontSize: 36,
                fontWeight: FontWeight.bold,
                color: wallet.isBlocked ? Colors.red : Colors.blue,
              ),
            ),
            SizedBox(height: 16),

            // Barre de progression
            LinearProgressIndicator(
              value: wallet.balancePercentage / 100,
              backgroundColor: Colors.grey.shade300,
              valueColor: AlwaysStoppedAnimation(
                wallet.isBlocked ? Colors.red :
                wallet.isNearLimit ? Colors.orange : Colors.green
              ),
            ),
            SizedBox(height: 8),
            Text(
              'Limite : ${wallet.maxBalance.toStringAsFixed(0)} FCFA',
              style: TextStyle(fontSize: 12),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildReversementButton(LivreurWallet wallet) {
    return Container(
      padding: EdgeInsets.symmetric(horizontal: 16),
      width: double.infinity,
      child: ElevatedButton.icon(
        onPressed: () => _showReversementDialog(wallet),
        icon: Icon(Icons.upload),
        label: Text('REVERSER MAINTENANT'),
        style: ElevatedButton.styleFrom(
          backgroundColor: Colors.green,
          padding: EdgeInsets.all(16),
          textStyle: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
        ),
      ),
    );
  }
}
```

### âœ… Avantages

- âœ… **VisibilitÃ© totale** : Livreur voit exactement oÃ¹ il en est
- âœ… **Alertes prÃ©ventives** : Ã‰vite les blocages surprise
- âœ… **TraÃ§abilitÃ©** : Historique complet des transactions
- âœ… **Automatisation** : SystÃ¨me self-service

---

## ğŸ’¡ PROPOSITION #3 : Paiement en ligne obligatoire pour montants Ã©levÃ©s

### ğŸ¯ Concept

Au-delÃ  d'un certain montant, le **paiement en ligne est obligatoire** (pas de cash Ã  la livraison).

### ğŸ“Š RÃ¨gles de paiement

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MONTANT < 30 000 FCFA                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Options disponibles :                                            â”‚
â”‚ âœ“ Cash Ã  la livraison (COD)                                     â”‚
â”‚ âœ“ Mobile Money (Orange, MTN, Moov, Wave)                        â”‚
â”‚ âœ“ Carte bancaire                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MONTANT 30 001 - 100 000 FCFA                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Options disponibles :                                            â”‚
â”‚ âš ï¸ Cash Ã  la livraison (frais +500 FCFA + livreur niveau 2+)   â”‚
â”‚ âœ“ Mobile Money (recommandÃ©)                                     â”‚
â”‚ âœ“ Carte bancaire                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MONTANT > 100 000 FCFA                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Options disponibles :                                            â”‚
â”‚ âŒ Cash Ã  la livraison (NON DISPONIBLE)                         â”‚
â”‚ âœ“ Mobile Money (OBLIGATOIRE)                                    â”‚
â”‚ âœ“ Carte bancaire                                                â”‚
â”‚                                                                   â”‚
â”‚ Si vendeur livre lui-mÃªme :                                     â”‚
â”‚ âœ“ Cash acceptÃ© (vendeur = propriÃ©taire)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ› ï¸ ImplÃ©mentation

```dart
// Dans cart_screen.dart / checkout
List<PaymentMethod> _getAvailablePaymentMethods(double totalAmount) {
  if (totalAmount <= 30000) {
    // Tous les moyens acceptÃ©s
    return [
      PaymentMethod.cashOnDelivery,
      PaymentMethod.orangeMoney,
      PaymentMethod.mtnMomo,
      PaymentMethod.moovMoney,
      PaymentMethod.wave,
    ];
  }

  if (totalAmount <= 100000) {
    // Cash avec frais supplÃ©mentaires
    return [
      PaymentMethod.cashOnDelivery, // Avec avertissement
      PaymentMethod.orangeMoney,
      PaymentMethod.mtnMomo,
      PaymentMethod.moovMoney,
      PaymentMethod.wave,
    ];
  }

  // > 100k : Paiement en ligne obligatoire
  return [
    PaymentMethod.orangeMoney,
    PaymentMethod.mtnMomo,
    PaymentMethod.moovMoney,
    PaymentMethod.wave,
  ];
}
```

### âœ… Avantages

- âœ… **ZÃ©ro risque** pour montants Ã©levÃ©s
- âœ… **TraÃ§abilitÃ©** : Tous les paiements enregistrÃ©s
- âœ… **Encourage** le paiement digital (bon pour l'Ã©conomie)

### âš ï¸ InconvÃ©nient

- âŒ Exclut les clients sans mobile money (mais rare en CI)

---

## ğŸ’¡ PROPOSITION #4 : SystÃ¨me de caution progressive

### ğŸ¯ Concept

Le livreur dÃ©pose une **caution remboursable** pour dÃ©bloquer des montants plus Ã©levÃ©s.

### ğŸ’° Grille de caution

```
AUCUNE CAUTION
â†’ Max 30k FCFA/commande

CAUTION 20k FCFA
â†’ Max 75k FCFA/commande
â†’ RemboursÃ©e aprÃ¨s 3 mois sans incident

CAUTION 50k FCFA
â†’ Max 150k FCFA/commande
â†’ RemboursÃ©e aprÃ¨s 6 mois sans incident

CAUTION 100k FCFA
â†’ Max 300k FCFA/commande
â†’ Statut VIP
â†’ RemboursÃ©e aprÃ¨s 1 an
```

### ğŸ› ï¸ Gestion de la caution

```dart
// DÃ©pÃ´t de caution
Future<void> depositCaution(String livreurId, double amount) async {
  await FirebaseFirestore.instance
      .collection('users')
      .doc(livreurId)
      .update({
    'cautionDeposited': amount,
    'cautionDepositedAt': FieldValue.serverTimestamp(),
    'cautionStatus': 'active',
  });

  // CrÃ©er une transaction
  await FirebaseFirestore.instance
      .collection('caution_deposits')
      .add({
    'livreurId': livreurId,
    'amount': amount,
    'depositedAt': FieldValue.serverTimestamp(),
    'status': 'active',
    'refundableAfter': _calculateRefundDate(amount),
  });
}
```

### âœ… Avantages

- âœ… **Engagement** du livreur (skin in the game)
- âœ… **FlexibilitÃ©** : Chacun choisit son niveau
- âœ… **Remboursable** : Pas une perte pour le livreur

---

## ğŸ“Š TABLEAU COMPARATIF DES SOLUTIONS

| Solution | SÃ©curitÃ© | ComplexitÃ© | Adoption livreurs | UX Client | CoÃ»t dev |
|----------|----------|------------|-------------------|-----------|----------|
| **#1 Paliers progressifs** | â­â­â­â­â­ | Moyenne | â­â­â­â­ | â­â­â­â­ | Moyen |
| **#2 Wallet + alertes** | â­â­â­â­â­ | Ã‰levÃ©e | â­â­â­â­â­ | â­â­â­â­â­ | Ã‰levÃ© |
| **#3 Paiement en ligne obligatoire** | â­â­â­â­â­ | Faible | â­â­ | â­â­â­ | Faible |
| **#4 SystÃ¨me de caution** | â­â­â­â­ | Moyenne | â­â­â­ | â­â­â­â­ | Moyen |

---

## ğŸ¯ RECOMMANDATION FINALE : APPROCHE HYBRIDE

### ğŸ† Combinaison optimale

```
SOLUTION #1 (Paliers progressifs)
+
SOLUTION #2 (Wallet + alertes)
+
SOLUTION #3 partielle (Paiement en ligne au-delÃ  de 200k FCFA)
```

### ğŸ“ Configuration recommandÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU DÃ‰BUTANT (0-10 livraisons)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Max/commande : 30k FCFA                                          â”‚
â”‚ Max total non reversÃ© : 50k FCFA                                â”‚
â”‚ DÃ©lai reversement : 24h                                          â”‚
â”‚ Caution : 0 FCFA                                                 â”‚
â”‚                                                                   â”‚
â”‚ Commandes > 30k â†’ Vendeur livre                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU CONFIRMÃ‰ (11-50 livraisons + note 4.0+)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Max/commande : 100k FCFA                                         â”‚
â”‚ Max total non reversÃ© : 200k FCFA                               â”‚
â”‚ DÃ©lai reversement : 48h                                          â”‚
â”‚ Caution recommandÃ©e : 20k FCFA (optionnel)                      â”‚
â”‚                                                                   â”‚
â”‚ Commandes > 100k â†’ Vendeur livre                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU EXPERT (51+ livraisons + note 4.3+ + caution 50k)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Max/commande : 200k FCFA                                         â”‚
â”‚ Max total non reversÃ© : 400k FCFA                               â”‚
â”‚ DÃ©lai reversement : 72h                                          â”‚
â”‚ Caution : 50k FCFA                                              â”‚
â”‚                                                                   â”‚
â”‚ Commandes > 200k â†’ Paiement en ligne OBLIGATOIRE                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### âœ… Avantages de cette approche

1. **SÃ©curitÃ© maximale** : Risque limitÃ© pour chaque niveau
2. **Motivation** : Livreurs progressent et dÃ©bloquent privilÃ¨ges
3. **FlexibilitÃ©** : Vendeur peut toujours livrer lui-mÃªme si montant Ã©levÃ©
4. **Transparence** : Wallet en temps rÃ©el, alertes claires
5. **AdaptÃ©e au contexte ivoirien** : Progression douce, pas de barriÃ¨re Ã  l'entrÃ©e

---

**Document crÃ©Ã© le** : 12 DÃ©cembre 2025
**Auteur** : Analyse sÃ©curitÃ© financiÃ¨re livreurs
**Status** : âœ… PRÃŠT POUR IMPLÃ‰MENTATION
